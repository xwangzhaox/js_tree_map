<!DOCTYPE html>
<html>
<head>
<title>文档的标题</title>
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script type="text/javascript" src="tree_map_0.0.1.js"></script>
</head>
<body>
    <svg id="pic" width=100% height=100% viewBox="0 0 2050 400" preserveAspectRatio="xMidYMid slice" style="border: 1px solid red;">
      <defs>
        <rect id="node" width="100" height="50" stroke="black" fill="#ccc"></rect>
      </defs>
    </svg>
    
<script type="text/javascript">
  $(function(){
    initNode();
    addNode(new Node(0, 1, "xxx", "", '', '', ''));
    addNode(new Node(0, 2, "xxx", "", '', '', ''));
    addNode(new Node(0, 3, "xxx", "", '', '', ''));
    addNode(new Node(1, 4, "xxx", "", '', '', ''));
    addNode(new Node(1, 5, "xxx", "", '', '', ''));
    addNode(new Node(0, 7, "xxx", "", '', '', ''));
    addNode(new Node(3, 8, "xxx", "", '', '', ''));

    document.body.onmousewheel = function(event) {
        event = event || window.event;
        if(event.deltaY == 1){
          bigger()
        }else{
          smaller()
        }
    };
    
    svg().onmousedown = function(e) {
      var evnt = e || event;
      var size = getViewBoxSize();
      disX = evnt.clientX + size[0];
      disY = evnt.clientY + size[1];

      document.onmousemove = function(e) {
        var evnt = e || event;
        var x = evnt.clientX - disX;
        var y = evnt.clientY - disY;

        var newSize = new Array(-x, -y, size[2], size[3]) 
        svg().setAttribute("viewBox", newSize.join(" "));
      }

      document.onmouseup = function() {
        document.onmousemove =null;
        document.onmouup = null;
      };
    }
	});

</script>
  <button id="bigger" onclick="bigger()">扩大</button>
  <button id="smaller" onclick="smaller()">缩小</button>
</body>
</html>

